# 내한 콘서트 데이터 수집 및 분석 시스템

## 시스템 개요
이 시스템은 한국에서 개최되는 해외 아티스트의 내한 콘서트 정보를 수집하고, 관련 데이터를 체계적으로 정리하여 CSV 파일로 저장하는 자동화 시스템입니다.

## 주요 데이터 구조

### 1. concerts.csv - 콘서트 기본 정보
- **artist**: 아티스트명 (한글 포함)
- **code**: KOPIS 공연 코드 (예: PF264169)
- **title**: 공연명
- **start_date**: 시작일 (YYYY-MM-DD)
- **end_date**: 종료일 (YYYY-MM-DD)
- **status**: 공연 상태 (COMPLETED/ONGOING/UPCOMING)
- **poster**: 포스터 이미지 URL
- **sorted_index**: 정렬 인덱스
- **ticket_site**: 티켓 판매처 (예스24, 멜론티켓, 인터파크 등)
- **ticket_url**: 티켓 구매 링크
- **venue**: 공연장소

### 2. artists.csv - 아티스트 상세 정보
- **artist**: 아티스트명
- **birth_date**: 데뷔/결성 연도
- **birth_place**: 출신지
- **category**: 카테고리 (밴드/싱어송라이터/래퍼 등)
- **detail**: 아티스트 소개 (한국어로 작성, ~예요/~해요 체)
- **instagram_url**: 인스타그램 URL
- **keywords**: 관련 키워드 (쉼표 구분)
- **img_url**: 아티스트 이미지 URL

### 3. songs.csv - 곡 정보
- **title**: 곡 제목
- **artist**: 아티스트명
- **lyrics**: 가사 전문
- **pronunciation**: 발음 가이드
- **translation**: 한국어 번역
- **youtube_id**: YouTube 비디오 ID
- **musixmatch_url**: Musixmatch 가사 URL

### 4. setlists.csv - 셋리스트 목록
- **title**: 셋리스트 제목 (실제/예상 구분)
- **start_date**: 공연 시작일
- **end_date**: 공연 종료일
- **img_url**: 관련 이미지
- **artist**: 아티스트명
- **venue**: 공연장

### 5. setlist_songs.csv - 셋리스트 상세 곡 목록
- **setlist_title**: 셋리스트 제목
- **song_title**: 곡 제목
- **setlist_date**: 공연일
- **order_index**: 곡 순서
- **fanchant**: 팬챈트 내용
- **venue**: 공연장

### 6. schedule.csv - 일정 정보
- **concert_title**: 콘서트명
- **category**: 카테고리 (티켓팅/콘서트 등)
- **scheduled_at**: 일정 (YYYY.MM.DD HH:MM)

### 7. cultures.csv - 공연 문화 정보
- **concert_title**: 콘서트명
- **title**: 문화 제목
- **content**: 상세 내용 (팬 문화, 응원법, 특별 이벤트 등)

## 데이터 수집 프로세스

### 1단계: KOPIS API 연동
- KOPIS(공연예술통합전산망)에서 내한공연 데이터 수집
- 필터링 조건:
  - visit=Y (내한공연)
  - festival=N (페스티벌 제외)
  - 기간: 최근 30일 완료 + 현재 진행 + 향후 3개월 예정

### 2단계: Perplexity AI 활용
각 콘서트별로 AI를 통해 다음 정보 수집:
- 아티스트 프로필 (경력, 음악 스타일, SNS)
- 예상/실제 셋리스트
- 대표곡 정보
- 공연 일정 및 티켓팅 정보
- 팬 문화 및 응원법

### 3단계: 데이터 정제 및 저장
- 아티스트명 통일 (영문/한글 병기)
- 중복 제거
- CSV 파일로 저장

## AI 프롬프트 예시

### 아티스트 정보 수집
"[아티스트명]의 다음 정보를 JSON 형식으로 제공해주세요:
1. 데뷔/결성 연도
2. 출신지
3. 음악 카테고리 (밴드/솔로/그룹 등)
4. 한국어 소개 (친근한 ~예요/~해요 체로 2-3문장)
5. 공식 인스타그램 URL
6. 음악 스타일 키워드 (5-7개)
7. 프로필 이미지 URL"

### 셋리스트 정보 수집
"[아티스트명]의 [공연명] 셋리스트 정보:
- 실제 공연된 경우: 실제 셋리스트
- 예정 공연: 최근 투어 기준 예상 셋리스트
각 곡의 순서와 제목을 포함해주세요."

### 공연 문화 정보 수집
"[아티스트명] [공연명]의 팬 문화와 관람 포인트:
1. 특별한 팬 이벤트나 응원법
2. 공연의 하이라이트
3. 팬들이 준비하면 좋은 것들
친근한 말투로 설명해주세요."

## 데이터 활용 방안
1. **콘서트 추천 시스템**: 사용자 취향 기반 공연 추천
2. **셋리스트 예측**: 과거 데이터 기반 예상 셋리스트 제공
3. **팬 가이드**: 공연별 관람 팁과 문화 안내
4. **가사 학습**: 일본어/영어 곡 발음 가이드 제공
5. **일정 알림**: 티켓팅 및 공연 일정 리마인더

## 데이터 특징
- **실시간성**: 공연 상태별 자동 분류 (완료/진행중/예정)
- **다국어 지원**: 아티스트명 한글/영문 병기
- **상세 정보**: 티켓 링크, 공연장, 포스터 등 실용 정보 포함
- **팬 친화적**: 응원법, 팬챈트, 관람 문화 정보 제공
- **AI 기반 수집**: Perplexity AI로 최신 정보 자동 수집

## 기술 스택
- Python 3.11
- KOPIS API (한국 공연 데이터)
- Perplexity AI API (정보 수집)
- Musixmatch API (가사 정보)
- pandas (데이터 처리)
- CSV (데이터 저장)

## 주요 활용 시나리오

### 시나리오 1: 내한 공연 정보 검색
"다음 달에 있는 일본 아티스트 내한 공연을 알려줘"
→ concerts.csv에서 UPCOMING 상태의 일본 아티스트 필터링

### 시나리오 2: 셋리스트 확인
"[아티스트명] 서울 공연 셋리스트 보여줘"
→ setlists.csv와 setlist_songs.csv 조인하여 곡 순서대로 표시

### 시나리오 3: 팬 문화 안내
"[공연명] 응원법이나 팬 이벤트 있어?"
→ cultures.csv에서 해당 공연 문화 정보 검색

### 시나리오 4: 아티스트 정보 조회
"[아티스트명]이 어떤 음악 하는지 알려줘"
→ artists.csv에서 detail, keywords 정보 제공

이 데이터 구조를 기반으로 다양한 쿼리와 분석이 가능합니다.